# Notify Mod

Мод для Minecraft 1.20.1 (Forge), который позволяет настраивать периодические сообщения на сервере с поддержкой кликабельных ссылок и команд.

## Возможности

- ✅ Создание неограниченного количества типов сообщений
- ✅ **Множественные тексты** - для каждого типа можно указать несколько вариантов текста
- ✅ **Рандомный выбор** - при каждой отправке выбирается случайный текст из списка
- ✅ Настройка интервала отправки для каждого типа
- ✅ Поддержка цветных сообщений (Minecraft color codes)
- ✅ Кликабельные сообщения с двумя типами действий:
  - **URL** - открытие ссылки в браузере
  - **COMMAND** - выполнение команды на сервере
- ✅ Полностью процедурная конфигурация
- ✅ Команда `/notify reload` для перезагрузки без перезапуска

## Установка

1. Скопируйте `.jar` файл мода в папку `mods` вашего сервера
2. Запустите сервер - конфиг создастся автоматически в `config/notify_mod-common.toml`
3. Остановите сервер
4. Настройте конфиг по вашему желанию
5. Запустите сервер снова
6. Ваши изменения сохранятся и не будут перезаписаны!

**Важно:** Мод использует прямое чтение TOML файла (без ForgeConfigSpec), поэтому:
- ✅ Конфиг **НЕ перезаписывается** при запуске
- ✅ Ваши изменения **сохраняются**
- ✅ Нет `.bak` файлов
- ✅ Используйте `/notify reload` для применения изменений без перезапуска

## Команды

### `/notify reload`
Перезагружает конфигурацию из файла и перезапускает планировщик.

- **Требования:** OP уровень 2 или выше
- **Использование:** `/notify reload`
- **Описание:** Перечитывает конфиг из файла и применяет изменения мгновенно

**Пример использования:**
1. Отредактируйте `config/notify_mod-common.toml`
2. Сохраните файл
3. Выполните `/notify reload` в игре
4. Изменения применены!

## Конфигурация

### Добавление нового типа сообщения

1. Откройте `config/notify_mod-common.toml`
2. Добавьте название типа в список `messageTypes`:
   ```toml
   messageTypes = ["Donate", "Tips", "Website"]
   ```
3. Создайте секцию для нового типа:
   ```toml
   [messages.website]
       texts = [
           "§b[Website] §7Visit: §e§nwww.example.com",
           "§b[Website] §7Check out our site! §e§nClick here"
       ]
       interval = 600
       clickable = true
       clickType = "URL"
       clickValue = "https://www.example.com"
   ```

### Параметры сообщения

- **texts** - Список текстов сообщений (один будет выбран случайно при каждой отправке)
- **interval** - Интервал в секундах между отправками (от 10 до 86400)
- **clickable** - Кликабельное ли сообщение (true/false)
- **clickType** - Тип действия при клике:
  - `"URL"` - открыть ссылку в браузере
  - `"COMMAND"` - выполнить команду
- **clickValue** - URL или команда (в зависимости от clickType)

### Примеры

#### 1. Обычное сообщение с несколькими вариантами (не кликабельное)
```toml
[messages.tips]
    texts = [
        "§a[Tip] §7Use §e/help §7to see all commands!",
        "§a[Tip] §7Press §eF3 + H §7to see item IDs!",
        "§a[Tip] §7Use §e/spawn §7to return to spawn!"
    ]
    interval = 180
    clickable = false
    clickType = "COMMAND"
    clickValue = ""
```

#### 2. Кликабельное сообщение с URL и несколькими вариантами
```toml
[messages.donate]
    texts = [
        "§6[Donate] §eSupport our server! §b§nClick here!",
        "§6[Donate] §eHelp us grow! §b§nDonate now!",
        "§6[Donate] §eYour support matters! §b§nClick to donate!"
    ]
    interval = 300
    clickable = true
    clickType = "URL"
    clickValue = "https://example.com/donate"
```

#### 3. Кликабельное сообщение с командой
```toml
[messages.rules]
    texts = [
        "§c[Rules] §7Click to view server rules!",
        "§c[Rules] §7Remember to follow the rules! §e§nClick here"
    ]
    interval = 400
    clickable = true
    clickType = "COMMAND"
    clickValue = "/rules"
```

#### 4. Сообщение с ссылкой на Discord
```toml
[messages.discord]
    texts = [
        "§9[Discord] §7Join our Discord: §b§ndiscord.gg/example",
        "§9[Discord] §7Chat with us! §b§nClick to join Discord"
    ]
    interval = 500
    clickable = true
    clickType = "URL"
    clickValue = "https://discord.gg/example"
```

## Цветовые коды Minecraft

### Цвета:
- `§0` - Черный
- `§1` - Темно-синий
- `§2` - Темно-зеленый
- `§3` - Темно-голубой
- `§4` - Темно-красный
- `§5` - Темно-фиолетовый
- `§6` - Золотой
- `§7` - Серый
- `§8` - Темно-серый
- `§9` - Синий
- `§a` - Зеленый
- `§b` - Голубой
- `§c` - Красный
- `§d` - Розовый
- `§e` - Желтый
- `§f` - Белый

### Форматирование:
- `§l` - **Жирный**
- `§m` - ~~Зачеркнутый~~
- `§n` - <u>Подчеркнутый</u>
- `§o` - *Курсив*
- `§r` - Сброс форматирования

## Советы

1. **Используйте множественные тексты**: Добавьте несколько вариантов сообщений, чтобы они не надоедали игрокам
2. **Для URL используйте подчеркивание**: `§n` делает текст подчеркнутым, что визуально показывает, что это ссылка
3. **Используйте hover подсказки**: При наведении на кликабельное сообщение автоматически показывается, что произойдет при клике
4. **Интервалы**: Не делайте интервалы слишком маленькими, чтобы не спамить игроков
5. **Разнообразие**: Чем больше вариантов текста, тем интереснее для игроков!

## Лицензия

All Rights Reserved
